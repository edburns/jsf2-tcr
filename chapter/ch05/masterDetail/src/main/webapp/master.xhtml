<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:h="http://java.sun.com/jsf/html"
      xmlns:f="http://java.sun.com/jsf/core">
<h:head>
  <title>A Simple JavaServer Faces 2.0 View</title>
</h:head>
<h:body>
  <h:form>
      <h1>Master</h1>
      <p><h:selectOneMenu value="#{flash.serviceLevel}">
              <f:selectItems value="#{model.keys}"/>
          </h:selectOneMenu>
      <h:commandButton value="Show Subscribers" /></p>

  </h:form>

  <h:panelGroup rendered="#{! empty flash.serviceLevel}">
      <h1>Detail</h1>

      <p>Users with Service Level: "#{flash.serviceLevel}":</p>

      <h:dataTable border="1" var="user"
                   value="#{model.data[flash.serviceLevel]}">
          <h:column>
              <f:facet name="header">First Name</f:facet>
              #{user.firstName}
          </h:column>

          <h:column>
              <f:facet name="header">Last Name</f:facet>
              #{user.lastName}
          </h:column>

          <h:column>
              <f:facet name="header">Sex</f:facet>
              #{user.sex}
          </h:column>

      </h:dataTable>
  </h:panelGroup>

</h:body>
</html>
